# Watchtower Web Client

Instructions on how to develop the web page frontend for [Watchtower](https://watchtower.blender.org/).

## Notions

The web frontend is a **Vue 3** application using **UI Renderer - Canvas** for the visualization.

Code structure in `client-web`:
- `src/views/ProjectDetailView.vue` - the main Watchtower view showing version of a film project.
- `src/components` - implementation of the `Timeline` and `Thumbnail` grid view blocks.
- `public` - data for the watchtower to display. Generated by the pipeline side.


## IDE Setup

### VSCode
For Vue, install [Volar](https://marketplace.visualstudio.com/items?itemName=Vue.volar) and the 
[Vue TypeScript](https://marketplace.visualstudio.com/items?itemName=Vue.vscode-typescript-vue-plugin)
extensions in [Takeover Mode](https://vuejs.org/guide/typescript/overview.html#volar-takeover-mode).  
*Note: in VSCodium the Vue TS extension is called: `johnsoncodehk.vscode-typescript-vue-plugin`*

Ensure that the IDE is using the project's TS version and says `(takeover)` in the status bar at the bottom.

Install [ESLint](https://marketplace.visualstudio.com/items?itemName=Vdbaeumer.vscode-eslint)
to show warnings from the ESLint yarn installed package directly in the IDE.


## Update and Run

1. Get the latest changes and update the development environment:
   ```
   git pull
   yarn install
   ```

2. The codebase should always be verified to have no errors or warnings in every commit. The IDE should help.
   ```
   yarn run lint  
   yarn run build
   ```

3. Compile and hot reload for development:
    ```
   yarn run dev
   ```


## Upgrading dependencies

Check in `package.json` if there are new versions for the runtime or development dependencies.  
When updating, also:
   - read what is new.
   - are there any new checks that should be enabled in `tsconfig.json` or `eslintConfig`?
   - verify that the codebase is happy:
        ```
        yarn install
        yarn lint  
        yarn run build
        ```
Test and commit!



